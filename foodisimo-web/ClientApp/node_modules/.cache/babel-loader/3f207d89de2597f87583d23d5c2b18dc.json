{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eroto\\\\Desktop\\\\Foodisimo-master\\\\Foodisimo-master\\\\foodisimo-web\\\\ClientApp\\\\src\\\\pages\\\\ConfirmOrder.js\";\nimport React, { Component } from 'react';\nimport '../css/ConfirmOrder.css';\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport CartValue from \"../CartValue\";\nimport AddressValue from \"../AddressValue\";\n\nclass ConfirmOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {},\n      cart: CartValue.getCartValue(),\n      cartTimi: CartValue.getSinolikiTimiValue(),\n      address: AddressValue.getAddressValue()\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //lastname\n\n    if (!fields[\"orofos\"]) {\n      formIsValid = false;\n      errors[\"orofos\"] = \"Cannot be empty\";\n    } //name\n\n\n    if (!fields[\"name\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n    } //tilefono\n\n\n    if (!fields[\"tilefono\"]) {\n      formIsValid = false;\n      errors[\"tilefono\"] = \"Cannot be empty\";\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  confirmSubmit(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      let fields = this.state.fields;\n      let user_id = JSON.parse(localStorage.getItem(\"user\"))[\"id\"];\n      let doorbell_name = fields[\"name\"];\n      let floor = fields[\"orofos\"];\n      let phone = fields[\"tilefono\"];\n      let notes = fields[\"message\"];\n      let total = this.state.cartTimi;\n      let items = this.state.cart.map(item => {\n        return {\n          \"productName\": item[\"onoma\"],\n          \"quantity\": item[\"posotita\"]\n        };\n      });\n      console.log({\n        \"userId\": user_id,\n        \"doorbellName\": doorbell_name,\n        \"floor\": floor,\n        \"phone\": phone,\n        \"notes\": notes,\n        \"orderItems\": items,\n        \"total\": total\n      });\n      fetch('https://localhost:5001/order', {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          \"userId\": user_id,\n          \"doorbellName\": doorbell_name,\n          \"floor\": parseInt(floor),\n          \"phone\": phone,\n          \"notes\": notes,\n          \"orderItems\": items,\n          \"total\": total\n        })\n      }).then(res => {\n        console.log(res);\n\n        if (res === true) {\n          window.location.href = \"/\";\n          window.alert(\"ΟΚ\");\n        } else {\n          window.alert(\"SFALMA\");\n        }\n      });\n    }\n  }\n\n  render() {\n    var cartItems = this.state.cart.map(item => {\n      return React.createElement(\"div\", {\n        key: item.key,\n        className: \"confirmorder-bottom-container-col2-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"confirmorder-bottom-container-col2-item-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, item.onoma)), React.createElement(\"div\", {\n        className: \"confirmorder-bottom-container-col2-item-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, item.posotita, \"x\")), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, item.timi, \"\\u20AC\"))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"account-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"account-top-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"account-top-container-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"confirmorder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-top-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-top-header-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\u03A0\\u03BF\\u03B9\\u03BF\\u03C4\\u03B9\\u03BA\\u03AE \\u03B6\\u03CD\\u03BC\\u03B7 & \\u03B3\\u03B5\\u03CD\\u03C3\\u03B7 (\\u039C\\u03C0\\u03CC\\u03C4\\u03C3\\u03B1\\u03C1\\u03B7) - \\u0391\\u03BD\\u03AC\\u03BB\\u03B7\\u03C8\\u03B7\")), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"\\u039F\\u03BB\\u03BF\\u03BA\\u03BB\\u03AE\\u03C1\\u03C9\\u03C3\\u03B7\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), \"\\u03A0\\u03B1\\u03C1\\u03B1\\u03B3\\u03B3\\u03B5\\u03BB\\u03AF\\u03B1\\u03C2\")))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"1. \\u03A3\\u03C4\\u03BF\\u03B9\\u03C7\\u03B5\\u03AF\\u03B1 \\u03A0\\u03B1\\u03C1\\u03B1\\u03B3\\u03B3\\u03B5\\u03BB\\u03AF\\u03B1\\u03C2\"), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(FaMapMarkerAlt, {\n      className: \"map-marker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"\\u0394\\u03B9\\u03B5\\u03CD\\u03B8\\u03C5\\u03BD\\u03C3\\u03B7\"), this.state.address)), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-formgroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u038C\\u03BD\\u03BF\\u03BC\\u03B1 \\u03C3\\u03C4\\u03BF \\u03BA\\u03BF\\u03C5\\u03B4\\u03BF\\u03CD\\u03BD\\u03B9 \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"Name\",\n      onChange: this.handleChange.bind(this, \"name\"),\n      value: this.state.fields[\"name\"],\n      placeholder: \"\\u038C\\u03BD\\u03BF\\u03BC\\u03B1 \\u03C3\\u03C4\\u03BF \\u03BA\\u03BF\\u03C5\\u03B4\\u03BF\\u03CD\\u03BD\\u03B9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.state.errors[\"name\"])), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-row-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"\\u038C\\u03C1\\u03BF\\u03C6\\u03BF\\u03C2 \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"Orofos\",\n      onChange: this.handleChange.bind(this, \"orofos\"),\n      value: this.state.fields[\"orofos\"],\n      placeholder: \"\\u03C0.\\u03C7. 1\\u03BF\\u03C2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, this.state.errors[\"orofos\"]))), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-row-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"\\u03A0\\u03C1\\u03BF\\u03B1\\u03B9\\u03C1\\u03B5\\u03C4\\u03B9\\u03BA\\u03CC \\u03C4\\u03B7\\u03BB. \\u03B5\\u03C0\\u03B9\\u03BA\\u03BF\\u03B9\\u03BD\\u03C9\\u03BD\\u03AF\\u03B1\\u03C2 \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"Tilefono\",\n      onChange: this.handleChange.bind(this, \"tilefono\"),\n      value: this.state.fields[\"tilefono\"],\n      placeholder: \"\\u03C0.\\u03C7. 69xxxxxxxx\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.errors[\"tilefono\"])))), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col-formgroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\\u03A3\\u03C7\\u03CC\\u03BB\\u03B9\\u03B1 \\u03B4\\u03B9\\u03B5\\u03CD\\u03B8\\u03C5\\u03BD\\u03C3\\u03B7\\u03C2\"), React.createElement(\"textarea\", {\n      name: \"Message\",\n      onChange: this.handleChange.bind(this, \"message\"),\n      value: this.state.fields[\"message\"],\n      placeholder: \"\\u03A0.\\u03C7. \\u039A\\u03B1\\u03BB\\u03AD\\u03C3\\u03C4\\u03B5 \\u03C3\\u03C4\\u03BF \\u03C4\\u03B7\\u03BB\\u03AD\\u03C6\\u03C9\\u03BD\\u03BF \\u03B1\\u03BD\\u03C4\\u03AF \\u03BD\\u03B1 \\u03C7\\u03C4\\u03C5\\u03C0\\u03AE\\u03C3\\u03B5\\u03C4\\u03B5 \\u03BA\\u03BF\\u03C5\\u03B4\\u03BF\\u03CD\\u03BD\\u03B9.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col2-shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col2-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"2.\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"\\u039F\\u03BB\\u03BF\\u03BA\\u03BB\\u03AE\\u03C1\\u03C9\\u03C3\\u03B7\"), React.createElement(\"div\", {\n      className: \"confirmorder-bottom-container-col2-header-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"\\u039A\\u03CC\\u03C3\\u03C4\\u03BF\\u03C2\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, this.state.cartTimi)), React.createElement(\"button\", {\n      onClick: this.confirmSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"\\u0391\\u03C0\\u03BF\\u03C3\\u03C4\\u03BF\\u03BB\\u03AE \\u03A0\\u03B1\\u03C1\\u03B1\\u03B3\\u03B3\\u03B5\\u03BB\\u03AF\\u03B1\\u03C2\")))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, cartItems))))))))));\n  }\n\n}\n\nexport default ConfirmOrder;","map":{"version":3,"sources":["C:/Users/eroto/Desktop/Foodisimo-master/Foodisimo-master/foodisimo-web/ClientApp/src/pages/ConfirmOrder.js"],"names":["React","Component","FaMapMarkerAlt","CartValue","AddressValue","ConfirmOrder","constructor","props","state","fields","errors","cart","getCartValue","cartTimi","getSinolikiTimiValue","address","getAddressValue","componentDidMount","window","scrollTo","handleValidation","formIsValid","setState","handleChange","field","e","target","value","confirmSubmit","preventDefault","user_id","JSON","parse","localStorage","getItem","doorbell_name","floor","phone","notes","total","items","map","item","console","log","fetch","headers","method","body","stringify","parseInt","then","res","location","href","alert","render","cartItems","key","onoma","posotita","timi","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport '../css/ConfirmOrder.css';\r\nimport {FaMapMarkerAlt} from 'react-icons/fa';\r\nimport CartValue from \"../CartValue\";\r\nimport AddressValue from \"../AddressValue\";\r\nclass ConfirmOrder extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {      \r\n            fields: {},\r\n            errors: {},\r\n            cart:CartValue.getCartValue(),\r\n            cartTimi:CartValue.getSinolikiTimiValue(),\r\n            address:AddressValue.getAddressValue()\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        window.scrollTo(0, 0);\r\n    }\r\n    handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n            //lastname\r\n            if(!fields[\"orofos\"]){\r\n                formIsValid = false;\r\n                errors[\"orofos\"] = \"Cannot be empty\";\r\n            }\r\n            //name\r\n            if(!fields[\"name\"]){\r\n                formIsValid = false;\r\n                errors[\"name\"] = \"Cannot be empty\";\r\n            }\r\n            //tilefono\r\n            if(!fields[\"tilefono\"]){\r\n                formIsValid = false;\r\n                errors[\"tilefono\"] = \"Cannot be empty\";\r\n            }\r\n       \r\n       this.setState({errors: errors});\r\n       return formIsValid;\r\n   }\r\n    handleChange(field, e){         \r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;        \r\n        this.setState({fields});\r\n    }\r\n    confirmSubmit(e) {\r\n        e.preventDefault();        \r\n        if(this.handleValidation()){     \r\n            let fields = this.state.fields;\r\n            let user_id = JSON.parse(localStorage.getItem(\"user\"))[\"id\"]\r\n            let doorbell_name = fields[\"name\"]\r\n            let floor = fields[\"orofos\"]\r\n            let phone = fields[\"tilefono\"]\r\n            let notes = fields[\"message\"]\r\n            let total = this.state.cartTimi;\r\n            let items = this.state.cart.map((item) => {\r\n                return { \"productName\": item[\"onoma\"], \"quantity\": item[\"posotita\"] }\r\n            })\r\n            console.log({\r\n                \"userId\": user_id,\r\n                \"doorbellName\": doorbell_name,\r\n                \"floor\": floor,\r\n                \"phone\": phone,\r\n                \"notes\": notes,\r\n                \"orderItems\": items,\r\n                \"total\": total\r\n            })\r\n            fetch('https://localhost:5001/order', {\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    \"userId\": user_id,\r\n                    \"doorbellName\": doorbell_name,\r\n                    \"floor\": parseInt(floor),\r\n                    \"phone\": phone,\r\n                    \"notes\": notes,\r\n                    \"orderItems\": items,\r\n                    \"total\": total\r\n                })\r\n            }\r\n            ).then((res) => {\r\n                console.log(res)\r\n                if (res === true) {\r\n                    window.location.href = \"/\";\r\n                    window.alert(\"ΟΚ\")\r\n                } else {\r\n                    window.alert(\"SFALMA\")\r\n                }\r\n            })\r\n        }\r\n     }\r\n    render() {\r\n        var cartItems = this.state.cart.map(item =>{ \r\n            return (\r\n                <div key={item.key}  className=\"confirmorder-bottom-container-col2-item\">\r\n                    <div className=\"confirmorder-bottom-container-col2-item-info\">\r\n                        <strong>{item.onoma}</strong>\r\n                    </div>\r\n                    <div className=\"confirmorder-bottom-container-col2-item-container\">\r\n                            <span>\r\n                                <strong>{item.posotita}x</strong>\r\n                            </span>\r\n                            <span>\r\n                                <strong>{item.timi}€</strong>\r\n                            </span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n        return (\r\n            <div>\r\n                <div className=\"account-top\"> \r\n                   <div className=\"account-top-container\">\r\n                        <div className=\"account-top-container-center\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"confirmorder\">\r\n                    <section>\r\n                        <div className=\"confirmorder-top\">\r\n                            <div className=\"confirmorder-top-header\">\r\n                                <div className=\"confirmorder-top-header-col\">\r\n                                    <h3>Ποιοτική ζύμη &amp; γεύση (Μπότσαρη) - Ανάληψη</h3>\r\n                                </div>\r\n                                <h1>\r\n                                    Ολοκλήρωση\r\n                                    <br/>\r\n                                    Παραγγελίας\r\n                                </h1>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                    <section>\r\n                        <div  className=\"confirmorder-bottom\">\r\n                            <div className=\"confirmorder-bottom-container\">\r\n                                <div className=\"confirmorder-bottom-container-col\">\r\n                                    <div className=\"confirmorder-bottom-container-col-shadow\">\r\n                                        <h2>1. Στοιχεία Παραγγελίας</h2>\r\n                                        <div className=\"confirmorder-bottom-container-col-address\">\r\n                                            <div>\r\n                                                <FaMapMarkerAlt className=\"map-marker\"/>\r\n                                            </div>\r\n                                            <p>\r\n                                                <strong>Διεύθυνση</strong>\r\n                                                {this.state.address}\r\n                                            </p>\r\n                                        </div>\r\n                                        <form>\r\n                                            <div className=\"confirmorder-bottom-container-col-formgroup\">\r\n                                                <label>Όνομα στο κουδούνι </label>\r\n                                                <input type=\"text\" name=\"Name\" onChange={this.handleChange.bind(this, \"name\")} value={this.state.fields[\"name\"]} placeholder=\"Όνομα στο κουδούνι\"/>\r\n                                                <span className=\"login-error\">{this.state.errors[\"name\"]}</span>\r\n                                            </div>\r\n                                            <div className=\"confirmorder-bottom-container-col-row\">\r\n                                                <div className=\"confirmorder-bottom-container-col-row-left\">\r\n                                                    <div>\r\n                                                        <label>Όροφος </label>\r\n                                                        <input type=\"text\" name=\"Orofos\" onChange={this.handleChange.bind(this, \"orofos\")} value={this.state.fields[\"orofos\"]} placeholder=\"π.χ. 1ος\"/>\r\n                                                        <span className=\"login-error\">{this.state.errors[\"orofos\"]}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"confirmorder-bottom-container-col-row-right\">\r\n                                                    <div>\r\n                                                        <label>Προαιρετικό τηλ. επικοινωνίας </label>\r\n                                                        <input type=\"text\" name=\"Tilefono\" onChange={this.handleChange.bind(this, \"tilefono\")} value={this.state.fields[\"tilefono\"]}  placeholder=\"π.χ. 69xxxxxxxx\"/>\r\n                                                        <span className=\"login-error\">{this.state.errors[\"tilefono\"]}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"confirmorder-bottom-container-col-formgroup\">\r\n                                                <label>Σχόλια διεύθυνσης</label>\r\n                                                <textarea  name=\"Message\" onChange={this.handleChange.bind(this, \"message\")} value={this.state.fields[\"message\"]}  placeholder=\"Π.χ. Καλέστε στο τηλέφωνο αντί να χτυπήσετε κουδούνι.\"/>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                                <div  className=\"confirmorder-bottom-container-col2\">\r\n                                    <div className=\"confirmorder-bottom-container-col2-shadow\">\r\n                                        <div>\r\n                                            <div>\r\n                                                <div className=\"confirmorder-bottom-container-col2-header\">\r\n                                                    <span>2.</span>\r\n                                                    <h3>Ολοκλήρωση</h3>\r\n                                                    <div className=\"confirmorder-bottom-container-col2-header-container\">\r\n                                                        <div>\r\n                                                            <div>Κόστος</div>\r\n                                                            <div>{this.state.cartTimi}</div>\r\n                                                        </div>\r\n                                                        <button onClick={this.confirmSubmit.bind(this)}>Αποστολή Παραγγελίας</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div>\r\n                                                    {cartItems}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default ConfirmOrder;"]},"metadata":{},"sourceType":"module"}